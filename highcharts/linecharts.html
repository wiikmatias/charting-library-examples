<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <title>Highcharts examples: Line charts</title>
  </head>
  <body>
    <div id="random-lines" style="width: 100%; height: 400px"></div>
    <hr />
    <br />
    <div id="line-chart" style="width: 100%; height: 400px"></div>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Random integer function
        function getRandomInt(min, max) {
          min = Math.ceil(min);
          max = Math.floor(max);
          return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        // Create a random table on a page load
        let randomTable = [];
        for (let i = 0; i < 7; i++) {
          randomTable.push(getRandomInt(0, 100));
        }

        // Line chart with random dataset
        var randomLineOptions = {
          chart: {
            renderTo: "random-lines",
            zoomType: "xy",
          },
          title: {
            text: "Line chart with random data",
          },

          yAxis: {
            title: {
              text: "Value",
            },
          },

          xAxis: {
            categories: [
              "January",
              "February",
              "March",
              "April",
              "May",
              "June",
              "July",
            ],
          },

          series: [
            {
              name: "Blue line",
              data: randomTable,
            },
          ],
        };

        var randomLines = new Highcharts.Chart(randomLineOptions);

        // Line chart
        var lineOptions = {
          chart: {
            renderTo: "line-chart",
            zoomType: "xy",
          },
          title: {
            text: "U.S Solar Employment Growth by Job Category, 2010-2020",
            align: "left",
          },

          subtitle: {
            text: 'Source: <a href="https://irecusa.org/programs/solar-jobs-census/" target="_blank">IREC</a>',
            align: "left",
          },

          yAxis: {
            title: {
              text: "Number of Employees",
            },
          },

          xAxis: {
            accessibility: {
              rangeDescription: "Range: 2010 to 2020",
            },
          },

          legend: {
            layout: "vertical",
            align: "right",
            verticalAlign: "middle",
          },

          plotOptions: {
            series: {
              label: {
                connectorAllowed: false,
              },
              pointStart: 2010,
            },
          },

          series: [
            {
              name: "Installation & Developers",
              data: [
                43934, 48656, 65165, 81827, 112143, 142383, 171533, 165174,
                155157, 161454, 154610,
              ],
            },
            {
              name: "Manufacturing",
              data: [
                24916, 37941, 29742, 29851, 32490, 30282, 38121, 36885, 33726,
                34243, 31050,
              ],
            },
            {
              name: "Sales & Distribution",
              data: [
                11744, 30000, 16005, 19771, 20185, 24377, 32147, 30912, 29243,
                29213, 25663,
              ],
            },
            {
              name: "Operations & Maintenance",
              data: [
                null,
                null,
                null,
                null,
                null,
                null,
                null,
                null,
                11164,
                11218,
                10077,
              ],
            },
            {
              name: "Other",
              data: [
                21908, 5548, 8105, 11248, 8989, 11816, 18274, 17300, 13053,
                11906, 10073,
              ],
            },
          ],

          responsive: {
            rules: [
              {
                condition: {
                  maxWidth: 500,
                },
                chartOptions: {
                  legend: {
                    layout: "horizontal",
                    align: "center",
                    verticalAlign: "bottom",
                  },
                },
              },
            ],
          },
        };

        var lineChart = new Highcharts.Chart(lineOptions);
      });
    </script>
  </body>
</html>
